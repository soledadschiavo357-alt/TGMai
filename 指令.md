# Role
你是一位精通 Python (BeautifulSoup4) 和 **Web 标准化 (Web Standards)** 的资深架构师。

# Objective
编写一个企业级 `build.py` 自动化脚本。
**核心目标**：以 `index.html` 为单一数据源，全自动同步布局、**品牌标识 (Favicon)**、SEO 数据，并规范化全站代码结构。

# Core Workflow (核心工作流)

### Phase 1: 智能数据提取 (Smart Extraction)
解析根目录 `index.html`，提取以下全站共用资产：
1.  **布局组件**：提取 `<nav>` 和 `<footer>` (需清洗链接)。
2.  **品牌资产 (Brand Assets)**：
    * 提取所有图标标签：`<link rel="icon">`, `<link rel="shortcut icon">`, `<link rel="apple-touch-icon">`。
    * *处理*：确保这些标签中的 `href` 路径强制转换为 **根相对路径** (`/` 开头，例如 `/logo.svg`)，防止子目录引用失效。

### Phase 2: Head 区域重构引擎 (Head Reconstruction)
遍历 `blog/` 下的所有文章，对 `<head>` 进行“清空并重组”。
请将生成的 HTML 标签按以下 **Group (分组)** 顺序写入，组与组之间保留换行符：

* **Group A: 基础元数据**
    * `<meta charset="utf-8">`
    * `<meta name="viewport" ...>`
    * `<title>` (保留文章原标题)
* **Group B: SEO 核心 (SEO Core)**
    * `<meta name="description">`
    * `<meta name="keywords">`
    * `<link rel="canonical">` (Clean URL)
* **Group C: 索引与全球化 (Indexing & Geo)**
    * `<meta name="robots">` (index, follow)
    * `<meta http-equiv="content-language">`
    * **Hreflang 矩阵** (`x-default`, `zh`, `zh-CN`)
* **Group D: 品牌与资源 (Branding & Resources)**
    * **[新增] Favicon 组**：插入从 Phase 1 提取并修正路径后的所有 Icon 标签。
    * CSS/JS 资源引用 (保留原有的 Tailwind/Font 引用)。
* **Group E: 结构化数据 (Schema)**
    * `<script type="application/ld+json">` (BlogPosting + BreadcrumbList)

### Phase 3: 内容聚合与注入 (Injection)
1.  **布局同步**：覆盖注入 Header/Footer。
2.  **侧边栏保护**：严格保留 `<aside>` 内原有的人工高颜值设计，**严禁修改**。
3.  **智能推荐**：在 `<article>` 底部注入“推荐阅读”模块。
4.  **全局更新**：同步更新首页最新文章及聚合页列表。

# Technical Constraints (技术铁律)
1.  **路径标准化**：
    * 全站所有内部链接 (`href`/`src`) 必须移除 `.html` 后缀。
    * **Favicon 路径例外**：图标文件 (`.ico`, `.svg`, `.png`) **必须保留文件后缀**，但必须确保以 `/` 开头。
2.  **代码整洁度**：生成的 HTML 头部代码必须分块清晰，便于调试。
3.  **单一数据源**：Header, Footer, Favicon 全部从 `index.html` 同步，文章页不需要单独维护图标配置。

请提供包含 **Favicon 自动同步逻辑** 的完整 `build.py` 代码。